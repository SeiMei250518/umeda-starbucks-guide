<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¢…ç”°ã‚¹ã‚¿ãƒå®Œå…¨æ”»ç•¥ã‚¬ã‚¤ãƒ‰ 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Leaflet.js (Map Library) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #f3f7f4; }
        .sb-green { background-color: #00704A; }
        .sb-dark { background-color: #1e3932; }
        #map { height: 45vh; width: 100%; border-bottom: 4px solid #00704A; }
        .card:hover { transform: translateY(-4px); transition: all 0.3s; }
        .badge-reserve { background-color: #000; color: #c4a163; border: 1px solid #c4a163; }
        .badge-tea { background-color: #ffb7c5; color: #d00050; }
        .badge-new { background-color: #ff3d00; color: #fff; }
        .sticky-nav { position: sticky; top: 0; z-index: 1000; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); }
        .leaflet-div-icon { background: #00704A; border: 2px solid white; border-radius: 50%; box-shadow: 0 0 5px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

<header class="sb-dark text-white py-4 px-4 shadow-md">
    <div class="container mx-auto text-center">
        <h1 class="text-xl font-bold">â˜• æ¢…ç”°ã‚¹ã‚¿ãƒå®Œå…¨æ”»ç•¥ã‚¬ã‚¤ãƒ‰</h1>
    </div>
</header>

<!-- Map Section -->
<div id="map"></div>

<div class="sticky-nav border-b shadow-sm">
    <div class="container mx-auto px-4 py-3">
        <input type="text" id="searchInput" placeholder="æ–½è¨­åã€é›»æºã€ç‰¹å¾´ã§æ¤œç´¢..." 
               class="w-full p-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#00704A] text-sm shadow-inner">
        
        <div class="flex overflow-x-auto gap-2 mt-3 pb-1 no-scrollbar text-[11px] font-bold">
            <button class="filter-btn active bg-[#00704A] text-white px-4 py-1.5 rounded-full whitespace-nowrap" data-area="all">ã™ã¹ã¦</button>
            <button class="filter-btn bg-white border px-4 py-1.5 rounded-full whitespace-nowrap" data-area="æ¢…ç”°ä¸­å¿ƒ">æ¢…ç”°ä¸­å¿ƒ</button>
            <button class="filter-btn bg-white border px-4 py-1.5 rounded-full whitespace-nowrap" data-area="èŒ¶å±‹ç”º">èŒ¶å±‹ç”º</button>
            <button class="filter-btn bg-white border px-4 py-1.5 rounded-full whitespace-nowrap" data-area="è¥¿æ¢…ç”°">è¥¿æ¢…ç”°</button>
            <button class="filter-btn bg-white border px-4 py-1.5 rounded-full whitespace-nowrap" data-area="ä¸­ä¹‹å³¶">ä¸­ä¹‹å³¶</button>
            <button class="feat-btn bg-blue-50 text-blue-700 border border-blue-200 px-4 py-1.5 rounded-full whitespace-nowrap" data-feat="power">ğŸ”Œé›»æº</button>
        </div>
    </div>
</div>

<main class="container mx-auto px-4 py-6">
    <div id="storeGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- JSã§æŒ¿å…¥ -->
    </div>
</main>

<script>
// ===================================================================
// å…¨34åº—èˆ— åº§æ¨™æ¤œè¨¼æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
// æ¤œè¨¼åŸºæº–ï¼šJRå¤§é˜ªé§…ä¸­å¿ƒ 34.7024, 135.4964 ã‚’åŸºæº–ã«å„æ–½è¨­ã®
// æ–¹è§’ãƒ»è·é›¢é–¢ä¿‚ã‚’ç²¾æŸ»ã€‚ä¸»ãªä¿®æ­£ç‚¹ï¼š
//   - KITTEå¤§é˜ªï¼šæ—§å¤§é˜ªä¸­å¤®éƒµä¾¿å±€(æ¢…ç”°3-2-4)ã¯æ¡œæ©‹å£å—è¥¿å´
//     â†’ lat 34.7014 â†’ 34.7004 / lng 135.4933 â†’ 135.4942
//   - ã¡ã‚ƒã‚„ã¾ã¡ã‚¢ãƒ—ãƒ­ãƒ¼ã‚ºã‚¿ãƒ¯ãƒ¼ï¼šå¾¡å ‚ç­‹(HEP FIVEã¨åŒçµŒåº¦)æ²¿ã„
//     â†’ lng 135.5011 â†’ 135.5020
// ===================================================================
const stores = [
    // â”€â”€ LUCUA / JRå¤§é˜ªé§…ã‚¨ãƒªã‚¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "1536", name: "LUCUA osaka åœ°ä¸‹2éšåº—",
        facility: "LUCUA osaka", floor: "B2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "11:00ã€œ23:00",
        // LUCUAç›´çµã€‚JRå¤§é˜ªé§…å—è¥¿ã€‚
        lat: 34.7029954, lng: 135.4952921,
        reserve: true, tea: false, power: true,
        note: "ReserveÂ® Barã€‚ã‚µã‚¤ãƒ•ã‚©ãƒ³ãƒ»ãƒ–ãƒ©ãƒƒã‚¯ã‚¤ãƒ¼ã‚°ãƒ«å¯¾å¿œã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1536/"
    },
    {
        id: "4093", name: "LUCUA 2éšåº—",
        facility: "LUCUA", floor: "2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ22:00",
        // LUCUA 2F å—å´ã€‚
        lat: 34.7032433, lng: 135.4956585,
        reserve: false, tea: true, power: true,
        note: "Tea & Cafeåº—ã€‚TEAVANAã®èŒ¶è‘‰ã‚’ä½¿ç”¨ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4093/"
    },
    {
        id: "1258", name: "LUCUA 1100 2F ã‚¢ãƒˆãƒªã‚¦ãƒ ã‚¬ãƒ¼ãƒ‡ãƒ³åº—",
        facility: "LUCUA 1100", floor: "2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ22:00",
        // LUCUA 1100 åŒ—å¯„ã‚Š(ã‚¢ãƒˆãƒªã‚¦ãƒ å´)ã€‚
        lat: 34.7029925, lng: 135.495372,
        reserve: false, tea: false, power: false,
        note: "ãƒˆãƒ¼ãƒ«é™å®šã€‚é–‹æ”¾çš„ãªã‚¢ãƒˆãƒªã‚¦ãƒ éš£æ¥ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1258/"
    },
    {
        id: "1257", name: "LUCUA 1100 2F ã‚°ãƒ©ãƒ³ãƒãƒ«ã‚·ã‚§åº—",
        facility: "LUCUA 1100", floor: "2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:30ã€œ20:30",
        // LUCUA 1100 é£Ÿç‰©è²©ã‚¾ãƒ¼ãƒ³ã€‚
        lat: 34.70301, lng: 135.49545,
        reserve: false, tea: false, power: false,
        note: "é£Ÿç‰©è²©ã‚¾ãƒ¼ãƒ³å†…ã€‚ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆå‘ãã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1257/"
    },
    {
        id: "977", name: "LUCUA 9éšåº—",
        facility: "LUCUA", floor: "9F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:30ã€œ20:30",
        // LUCUAä¸Šå±¤ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãƒ•ãƒ­ã‚¢ã€‚
        lat: 34.7028866, lng: 135.4953236,
        reserve: false, tea: false, power: true,
        note: "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãƒ•ãƒ­ã‚¢å†…ã€‚æ¯”è¼ƒçš„ç©ºã„ã¦ã„ã‚‹ç©´å ´ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-977/"
    },
    {
        id: "2069", name: "æ¢…ç”° è”¦å±‹æ›¸åº—",
        facility: "LUCUA 1100", floor: "9F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "08:30ã€œ21:00",
        // LUCUA 1100 ä¸Šå±¤ãƒ»è”¦å±‹æ›¸åº—ä½µè¨­ã€‚
        lat: 34.7028866, lng: 135.4953236,
        reserve: false, tea: false, power: true,
        note: "è”¦å±‹æ›¸åº—å†…ã®å¤§å‹åº—ã€‚èª­æ›¸ã—ãªãŒã‚‰æ¥½ã—ã‚ã‚‹ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-2069/"
    },
    {
        id: "2313", name: "JRå¤§é˜ªé§…åŒ—åº—",
        facility: "JRå¤§é˜ªé§…", floor: "åŒ—æ”¹æœ­å¤–", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ22:00",
        // JRå¤§é˜ªé§…åŒ—æ”¹æœ­ã™ãå¤–ã€‚ã†ã‚ããŸæ–¹é¢ã€‚
        lat: 34.703132, lng: 135.496179,
        reserve: false, tea: false, power: true,
        note: "åŒ—æ”¹æœ­ã™ãã€‚é€šå‹¤ãƒ»å¾…ã¡åˆã‚ã›ã«æœ€é©ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-2313/"
    },
    {
        id: "1405", name: "ã‚¨ã‚­ãƒãƒ«ã‚·ã‚§å¤§é˜ªåº—",
        facility: "ã‚¨ã‚­ãƒãƒ«ã‚·ã‚§å¤§é˜ª", floor: "B1F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ22:00",
        // ã‚¨ã‚­ãƒãƒ«ã‚·ã‚§å¤§é˜ªã¯JRå¤§é˜ªé§…æ¡œæ©‹å£(å—è¥¿)åœ°ä¸‹å•†æ¥­æ–½è¨­ã€‚
        lat: 34.7015551, lng: 135.4948114,
        reserve: false, tea: false, power: true,
        note: "æ¡œæ©‹å£ç›´çµã€‚æ–°å¹¹ç·šå‰ã®ã‚³ãƒ¼ãƒ’ãƒ¼è£œçµ¦ã«ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1405/"
    },
    {
        id: "4324", name: "ï¼«ï¼©ï¼´ï¼´ï¼¥å¤§é˜ªåº—",
        facility: "KITTEå¤§é˜ª", floor: "6F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "09:00ã€œ22:00",
        // â˜…ä¿®æ­£â˜… KITTEå¤§é˜ªï¼æ—§å¤§é˜ªä¸­å¤®éƒµä¾¿å±€(æ¢…ç”°3-2-4)ã€‚
        // JRå¤§é˜ªé§…æ¡œæ©‹å£ã®å—è¥¿ã€å¤§é˜ªã‚¬ãƒ¼ãƒ‡ãƒ³ã‚·ãƒ†ã‚£ã¨åŒåœ°åŒºã€‚
        lat: 34.700615, lng: 135.494421,
        reserve: false, tea: false, power: true,
        note: "2024.7é–‹æ¥­ã€‚åŠ‡å ´ã®å…¥å£æ¨ªã«ã‚ã‚‹æœ€æ–°åº—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4324/",
        isNew: true
    },
    {
        id: "2261", name: "TSUTAYA ã‚¤ãƒã‚²ãƒ¼ãƒˆå¤§é˜ªåº—",
        facility: "ã‚¤ãƒã‚²ãƒ¼ãƒˆå¤§é˜ª", floor: "6F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "08:00ã€œ22:00",
        // ã‚¤ãƒã‚²ãƒ¼ãƒˆå¤§é˜ªã€‚ã†ã‚ããŸ2æœŸ(ã‚°ãƒ©ãƒ³ã‚°ãƒªãƒ¼ãƒ³å¤§é˜ª)å—å´éš£æ¥ã€‚
        lat: 34.7020477, lng: 135.4933685,
        reserve: false, tea: false, power: true,
        note: "2024.7é–‹æ¥­ã€‚ã†ã‚ããŸå…¬åœ’ä¸€æœ›ã®çœºæœ›ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-2261/",
        isNew: true
    },
    // â”€â”€ ã‚°ãƒ©ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆå¤§é˜ª â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "4155", name: "ã‚°ãƒ©ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆå¤§é˜ª åŒ—é¤¨1éšåº—",
        facility: "GFå¤§é˜ª åŒ—é¤¨", floor: "1F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ22:00",
        // ã‚°ãƒ©ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆå¤§é˜ª åŒ—é¤¨1Fã€‚JRå¤§é˜ªé§…åŒ—å£ã‹ã‚‰åŒ—åŒ—è¥¿ã€‚
        lat: 34.7053655, lng: 135.4943626,
        reserve: false, tea: true, power: true,
        note: "Tea & Cafeã€‚é–‹æ”¾çš„ãªãƒ†ãƒ©ã‚¹å¸­ãŒäººæ°—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4155/"
    },
    {
        id: "1113", name: "ã‚°ãƒ©ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆå¤§é˜ª å—é¤¨6éšåº—",
        facility: "GFå¤§é˜ª å—é¤¨", floor: "6F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "11:00ã€œ21:00",
        // ã‚°ãƒ©ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆå¤§é˜ª å—é¤¨6Fã€‚åŒ—é¤¨ã‚ˆã‚Šå—æ±ã€‚
        lat: 34.7045973, lng: 135.4949254,
        reserve: false, tea: false, power: true,
        note: "å—é¤¨ã€‚è½ã¡ç€ã„ãŸé›°å›²æ°—ã®ç©´å ´ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1113/"
    },
    // â”€â”€ ã†ã‚ããŸ(ã‚°ãƒ©ãƒ³ã‚°ãƒªãƒ¼ãƒ³å¤§é˜ª) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "4434", name: "ã†ã‚ããŸã‚°ãƒªãƒ¼ãƒ³ãƒ—ãƒ¬ã‚¤ã‚¹åº—",
        facility: "ã‚°ãƒ©ãƒ³ã‚°ãƒªãƒ¼ãƒ³å¤§é˜ª", floor: "2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ22:30",
        // ã‚°ãƒ©ãƒ³ã‚°ãƒªãƒ¼ãƒ³å¤§é˜ª(ã†ã‚ããŸ2æœŸ)ã€‚æœ€åŒ—ç«¯ãƒ»å…¬åœ’éš£æ¥ã€‚
        lat: 34.702892, lng: 135.493261,
        reserve: false, tea: false, power: true,
        note: "2025.3é–‹æ¥­ã€‚å…¬åœ’éš£æ¥ã®æ–°åº—èˆ—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4434/",
        isNew: true
    },
    // â”€â”€ LINKS UMEDA (ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©æ¢…ç”°ã‚¿ãƒ¯ãƒ¼) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "1808", name: "LINKS UMEDA B1Fåº—",
        facility: "LINKS UMEDA", floor: "B1F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ21:00",
        // ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©æ¢…ç”°ã‚¿ãƒ¯ãƒ¼åœ°ä¸‹ã€‚JRå¤§é˜ªé§…åŒ—å£ã‹ã‚‰åŒ—åŒ—æ±ã€‚
        lat: 34.7047859, lng: 135.4968839,
        reserve: false, tea: false, power: false,
        note: "ãƒˆãƒ¼ãƒ«é™å®šã€‚ãƒ¨ãƒ‰ãƒã‚·åœ°ä¸‹é€šè·¯ã™ãã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1808/"
    },
    {
        id: "1809", name: "LINKS UMEDA 2Fåº—",
        facility: "LINKS UMEDA", floor: "2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ21:00",
        lat: 34.7048595, lng: 135.4969272,
        reserve: false, tea: false, power: true,
        note: "ãƒ‡ãƒƒã‚­ç›´çµã€‚ä»•äº‹ãƒ»å¾…ã¡åˆã‚ã›ã«ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1809/"
    },
    {
        id: "1810", name: "LINKS UMEDA 8Fåº—",
        facility: "LINKS UMEDA", floor: "8F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ21:00",
        lat: 34.7041898, lng: 135.4962546,
        reserve: false, tea: false, power: true,
        note: "ãƒ¨ãƒ‰ãƒã‚·å†…æœ€å¤§ã€‚é›»æºãƒ»Wi-Fiå……å®Ÿã®ç©´å ´ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1810/"
    },
    // â”€â”€ é˜ªæ€¥ã‚¨ãƒªã‚¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "4249", name: "é˜ªæ€¥ã†ã‚ã æœ¬åº— 9éšåº—",
        facility: "é˜ªæ€¥ã†ã‚ã ", floor: "9F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ20:00",
        // é˜ªæ€¥ã†ã‚ã æœ¬åº—ã¯å¾¡å ‚ç­‹æ±å´ã€‚æ¢…ç”°é§…ç›´ä¸Šã€‚
        lat: 34.7030253, lng: 135.4985514,
        reserve: false, tea: true, power: true,
        note: "Tea & Cafeã€‚ç™¾è²¨åº—å†…ã®å„ªé›…ãªç©ºé–“ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4249/"
    },
    {
        id: "1848", name: "é˜ªæ€¥ã‚µãƒ³åºƒå ´åœ°ä¸‹é€šã‚Šåº—",
        facility: "é˜ªæ€¥ã‚µãƒ³åºƒå ´", floor: "B1F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ23:00",
        // é˜ªæ€¥ä¸‰ç•ªè¡—åœ°ä¸‹ã€‚å¾¡å ‚ç­‹æ±å´åœ°ä¸‹è¡—ã€‚
        lat: 34.7033393, lng: 135.4990003,
        reserve: false, tea: false, power: true,
        note: "æ¢…ç”°æœ€é…ç´šã€‚23æ™‚ã¾ã§å–¶æ¥­ã§ä¾¿åˆ©ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1848/"
    },
    // â”€â”€ é˜ªç¥ã‚¨ãƒªã‚¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "1836", name: "é˜ªç¥æ¢…ç”°æœ¬åº— 9éšåº—",
        facility: "é˜ªç¥æ¢…ç”°", floor: "9F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ22:00",
        // é˜ªç¥æ¢…ç”°æœ¬åº—ã€‚å¾¡å ‚ç­‹ã¨å›½é“2å·ã®è§’ã€‚JRå¤§é˜ªé§…å—æ±ã€‚
        lat: 34.7014877, lng: 135.4984146,
        reserve: false, tea: false, power: true,
        note: "ãƒ•ãƒ¼ãƒ‰ãƒ›ãƒ¼ãƒ«å†…ã€‚çª“éš›å¸­ã®çœºæœ›ãŒäººæ°—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1836/"
    },
    {
        id: "1835", name: "é˜ªç¥æ¢…ç”°æœ¬åº— åœ°ä¸‹2éšåº—",
        facility: "é˜ªç¥æ¢…ç”°", floor: "B2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "08:00ã€œ23:00",
        lat: 34.701093, lng: 135.4977896,
        reserve: false, tea: false, power: true,
        note: "ãƒãƒ«æ¨ªä¸å†…ã€‚23æ™‚ã¾ã§å¤œã‚«ãƒ•ã‚§ã«æœ€é©ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1835/"
    },
    // â”€â”€ å¤§ä¸¸æ¢…ç”° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "960", name: "å¤§ä¸¸æ¢…ç”°åº—",
        facility: "å¤§ä¸¸æ¢…ç”°åº—", floor: "2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ20:30",
        // å¤§ä¸¸æ¢…ç”°ã¯JRå¤§é˜ªé§…å—æ±ãƒ»å¾¡å ‚ç­‹æ²¿ã„ã€‚
        lat: 34.7016791, lng: 135.4964599,
        reserve: false, tea: false, power: false,
        note: "2FåŒ–ç²§å“ãƒ•ãƒ­ã‚¢ã€‚è½ã¡ç€ã„ãŸç™¾è²¨åº—åº—èˆ—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-960/"
    },
    // â”€â”€ HEP FIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "4074", name: "æ¢…ç”°HEP FIVE 3éšåº—",
        facility: "HEP FIVE", floor: "3F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "11:00ã€œ21:00",
        // HEP FIVEã¯å¾¡å ‚ç­‹æ±ãƒ»é˜ªæ€¥æ±é€šã‚Šå•†åº—è¡—åŒ—ç«¯ã€‚
        lat: 34.7041119, lng: 135.5007956,
        reserve: false, tea: false, power: true,
        note: "HEPå†…ã®æ¯”è¼ƒçš„æ–°ã—ã„åº—èˆ—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4074/"
    },
    {
        id: "28", name: "æ¢…ç”°HEP FIVE 7éšåº—",
        facility: "HEP FIVE", floor: "7F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "11:00ã€œ21:00",
        lat: 34.7042, lng: 135.5007956,
        reserve: false, tea: false, power: true,
        note: "è¦³è¦§è»Šãƒ•ãƒ­ã‚¢è¿‘ãã€‚å¾…ã¡åˆã‚ã›ã®å®šç•ªã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-28/"
    },
    // â”€â”€ èŒ¶å±‹ç”ºã‚¨ãƒªã‚¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "181", name: "ã¡ã‚ƒã‚„ã¾ã¡ã‚¢ãƒ—ãƒ­ãƒ¼ã‚ºã‚¿ãƒ¯ãƒ¼åº—",
        facility: "ã‚¢ãƒ—ãƒ­ãƒ¼ã‚ºã‚¿ãƒ¯ãƒ¼", floor: "1F", area: "èŒ¶å±‹ç”º",
        hours: "06:30ã€œ22:00",
        // â˜…ä¿®æ­£â˜… ã‚¢ãƒ—ãƒ­ãƒ¼ã‚ºã‚¿ãƒ¯ãƒ¼ï¼æ¢…ç”°èŠ¸è¡“åŠ‡å ´(èŒ¶å±‹ç”º19-1)ã€‚
        // å¾¡å ‚ç­‹æ²¿ã„(HEP FIVEã®åŒ—å»¶é•·ä¸Š)ã€‚lng: 135.5011â†’135.5020ã«ä¿®æ­£ã€‚
        lat: 34.7083761, lng: 135.4985323,
        reserve: false, tea: false, power: true,
        note: "æ¢…ç”°æœ€é€Ÿ6:30é–‹åº—ã€‚é–‹æ”¾æ„Ÿãƒ»é›»æºæœ€å¼·ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-181/"
    },
    {
        id: "1019", name: "NUèŒ¶å±‹ç”ºãƒ—ãƒ©ã‚¹åº—",
        facility: "NUèŒ¶å±‹ç”ºãƒ—ãƒ©ã‚¹", floor: "1F", area: "èŒ¶å±‹ç”º",
        hours: "07:00ã€œ23:00",
        // NUèŒ¶å±‹ç”ºãƒ—ãƒ©ã‚¹ã¯NUèŒ¶å±‹ç”ºã«éš£æ¥ã€‚ã‚¢ãƒ—ãƒ­ãƒ¼ã‚ºã‚¿ãƒ¯ãƒ¼å—æ±ã€‚
        lat: 34.7074657, lng: 135.4995066,
        reserve: false, tea: false, power: true,
        note: "ãƒ­ãƒ•ãƒˆæ­£é¢ã€‚23æ™‚ã¾ã§å–¶æ¥­ã€‚å¤œã‚«ãƒ•ã‚§ã®å®šç•ªã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1019/"
    },
    {
        id: "2083", name: "TSUTAYA æ¢…ç”° MeRISEåº—",
        facility: "MeRISE", floor: "1F", area: "èŒ¶å±‹ç”º",
        hours: "10:00ã€œ18:00(å¹³æ—¥)",
        // KANDAI MeRISE(é–¢å¤§é€£æºæ–½è¨­)ã€‚èŒ¶å±‹ç”ºåŒ—ç«¯ã€‚
        lat: 34.7063366, lng: 135.5010952,
        reserve: false, tea: false, power: true,
        note: "é–¢å¤§ä½µè¨­ã€‚é™ã‹ã§æœ€é«˜ã«é›†ä¸­ã§ãã‚‹ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-2083/"
    },
    // â”€â”€ åœ°ä¸‹è¡—ãƒ»å•†æ¥­ãƒ“ãƒ« â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "4222", name: "ãƒ›ãƒ¯ã‚¤ãƒ†ã‚£ã†ã‚ã åº—",
        facility: "ãƒ›ãƒ¯ã‚¤ãƒ†ã‚£ã†ã‚ã ", floor: "B1F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "08:00ã€œ22:00",
        // ãƒ›ãƒ¯ã‚¤ãƒ†ã‚£ã†ã‚ã (æ³‰ã®åºƒå ´è¿‘ã)ã€‚æ±æ¢…ç”°é§…ã™ãã€‚
        lat: 34.7019325, lng: 135.5018079,
        reserve: false, tea: false, power: true,
        note: "æ³‰ã®åºƒå ´è¿‘ãã€‚é›¨ã®æ—¥ã‚‚æ¿¡ã‚Œãšã«ä¾¿åˆ©ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4222/"
    },
    {
        id: "1762", name: "æ¢…ç”°ã‚¨ã‚¹ãƒˆåº—",
        facility: "æ¢…ç”°ã‚¨ã‚¹ãƒˆ", floor: "1F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "07:00ã€œ23:00",
        // æ¢…ç”°ã‚¨ã‚¹ãƒˆ(æ—§ã‚°ãƒ©ãƒ³ãƒ‰ãƒ›ãƒ†ãƒ«è·¡åœ°éš£æ¥)ã€‚é˜ªæ€¥æ±å£ã‹ã‚‰ã€‚
        lat: 34.7048316, lng: 135.5008364,
        reserve: false, tea: false, power: true,
        note: "23æ™‚ã¾ã§å–¶æ¥­ã€‚é§…è¿‘ã§è²·ã„ç‰©å¸°ã‚Šã«ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-1762/"
    },
    {
        id: "4019", name: "æ¢…ç”°ã‚¤ãƒ¼ãƒåº—",
        facility: "E-MA", floor: "B2F", area: "æ¢…ç”°ä¸­å¿ƒ",
        hours: "10:00ã€œ21:00",
        // E-MAã¯å¾¡å ‚ç­‹æ²¿ã„ã€é˜ªç¥æ¢…ç”°ã®å—ã€‚
        lat: 34.700661, lng: 135.4981396,
        reserve: false, tea: false, power: true,
        note: "åœ°ä¸‹ã®ç©´å ´ã€‚è½ã¡ç€ã„ãŸé›°å›²æ°—ã§ä»•äº‹å‘ãã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4019/"
    },
    // â”€â”€ è¥¿æ¢…ç”°ã‚¨ãƒªã‚¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "129", name: "å¤§é˜ªã‚¬ãƒ¼ãƒ‡ãƒ³ã‚·ãƒ†ã‚£åº—",
        facility: "æ˜æ²»å®‰ç”°ç”Ÿå‘½ãƒ“ãƒ«", floor: "1F", area: "è¥¿æ¢…ç”°",
        hours: "07:00ã€œ22:00",
        // æ˜æ²»å®‰ç”°ç”Ÿå‘½å¤§é˜ªæ¢…ç”°ãƒ“ãƒ«(æ¢…ç”°3-3-20)ã€‚è¥¿æ¢…ç”°é§…ãã°ã€‚
        lat: 34.6988943, lng: 135.4914409,
        reserve: false, tea: false, power: true,
        note: "ç·‘ã®éš ã‚Œå®¶ç©ºé–“ã€‚è¥¿æ¢…ç”°ã®é›»æºã‚¹ãƒãƒƒãƒˆã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-129/"
    },
    // â”€â”€ ä¸­ä¹‹å³¶ãƒ»åŒ—æ–°åœ°ã‚¨ãƒªã‚¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        id: "382", name: "ä¸­ä¹‹å³¶ä¸‰äº•ãƒ“ãƒ«åº—",
        facility: "ä¸­ä¹‹å³¶ä¸‰äº•ãƒ“ãƒ«", floor: "1F", area: "ä¸­ä¹‹å³¶",
        hours: "07:30ã€œ21:00",
        // ä¸­ä¹‹å³¶ä¸‰äº•ãƒ“ãƒ«ã¯ä¸­ä¹‹å³¶è¥¿éƒ¨ã€‚æ¸¡è¾ºæ©‹é§…ãã°ã€‚
        lat: 34.6933721, lng: 135.4941534,
        reserve: false, tea: false, power: true,
        note: "ã‚ªãƒ•ã‚£ã‚¹è¡—åº—ã€‚åœŸæ—¥ç¥ä¼‘ã¿ãªã®ã§å¹³æ—¥ã¯å¿«é©ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-382/"
    },
    {
        id: "388", name: "æ¡œæ©‹ãƒ—ãƒ©ã‚¶ãƒ“ãƒ«åº—",
        facility: "æ¡œæ©‹ãƒ—ãƒ©ã‚¶", floor: "1F", area: "ä¸­ä¹‹å³¶",
        hours: "07:00ã€œ21:00",
        // æ¡œæ©‹ãƒ—ãƒ©ã‚¶ã¯åŒ—æ–°åœ°ãƒ»JRæ±è¥¿ç·šæ¡œæ©‹é§…ã™ãã€‚
        lat: 34.6981551, lng: 135.4959404,
        reserve: false, tea: false, power: true,
        note: "åŒ—æ–°åœ°é§…ã™ãã€‚ãƒ“ã‚¸ãƒã‚¹åˆ©ç”¨å¤šã€‚åœŸæ—¥ç¥ä¼‘ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-388/"
    },
    {
        id: "828", name: "æ·€å±‹æ©‹odonaåº—",
        facility: "odona", floor: "B1F", area: "ä¸­ä¹‹å³¶",
        hours: "07:00ã€œ23:00",
        // æ·€å±‹æ©‹odonaã€‚å¾¡å ‚ç­‹ç·šæ·€å±‹æ©‹é§…ç›´çµã€‚
        lat: 34.6908431, lng: 135.5004288,
        reserve: false, tea: false, power: true,
        note: "é§…ç›´çµã€‚å¹³æ—¥23æ™‚ã¾ã§å–¶æ¥­ã€‚é›»æºå……å®Ÿã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-828/"
    },
    {
        id: "4437", name: "åŒ—æµœåº—",
        facility: "åŒ—æµœ", floor: "1F", area: "ä¸­ä¹‹å³¶",
        hours: "07:00ã€œ21:00",
        // åŒ—æµœã€‚å ºç­‹ç·šåŒ—æµœé§…è¿‘ãã€åœŸä½å €å·æ²¿ã„ã€‚
        lat: 34.6902157, lng: 135.5063588,
        reserve: false, tea: false, power: true,
        note: "2024é–‹æ¥­ã€‚ä¸­ä¹‹å³¶å¯¾å²¸ã®æœ€æ–°åº—èˆ—ã€‚",
        mapUrl: "https://store.starbucks.co.jp/detail-4437/"
    }
];

const grid = document.getElementById('storeGrid');
const searchInput = document.getElementById('searchInput');
let currentArea = 'all';
let currentFeat = null;

// Map Initialization â€” ä¸­å¿ƒã‚’JRå¤§é˜ªé§…ã«è¨­å®š
const map = L.map('map', { zoomControl: false }).setView([34.7024, 135.4964], 15);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap'
}).addTo(map);

// Leaflet ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ã‚«ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ä¿®æ­£
delete L.Icon.Default.prototype._getIconUrl;
L.Icon.Default.mergeOptions({
    iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',
    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',
});

let markers = [];

function render() {
    const keyword = searchInput.value.toLowerCase();
    
    markers.forEach(m => map.removeLayer(m));
    markers = [];

    const filtered = stores.filter(s => {
        const matchK = s.name.toLowerCase().includes(keyword) 
                    || s.facility.toLowerCase().includes(keyword) 
                    || s.note.toLowerCase().includes(keyword);
        const matchA = currentArea === 'all' || s.area === currentArea;
        let matchF = true;
        if (currentFeat === 'power') matchF = s.power;
        return matchK && matchA && matchF;
    });

    grid.innerHTML = filtered.map(s => {
        const marker = L.marker([s.lat, s.lng]).addTo(map)
            .bindPopup(`<div class="text-xs font-bold">${s.name}</div><div class="text-[10px]">${s.facility} ${s.floor}</div>`);
        markers.push(marker);

        return `
            <article class="bg-white rounded-2xl shadow-sm border overflow-hidden card flex flex-col" id="card-${s.id}">
                <div class="p-5 flex-grow">
                    <div class="flex flex-wrap gap-1 mb-2">
                        ${s.reserve ? '<span class="badge-reserve text-[9px] font-bold px-1.5 py-0.5 rounded">RESERVE</span>' : ''}
                        ${s.tea ? '<span class="badge-tea text-[9px] font-bold px-1.5 py-0.5 rounded">TEA & CAFE</span>' : ''}
                        ${s.isNew ? '<span class="badge-new text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-tighter">New</span>' : ''}
                    </div>
                    <h3 class="text-md font-bold mb-1">${s.name}</h3>
                    <p class="text-xs text-green-700 font-bold mb-3 tracking-tight">${s.facility} ${s.floor}</p>
                    <div class="text-[10px] text-gray-500 space-y-1 mb-4 leading-tight">
                        <p>ğŸ•’ ${s.hours}</p>
                        <p>âœ¨ ${s.note}</p>
                    </div>
                    <div class="flex flex-wrap gap-2 text-[10px]">
                        ${s.power 
                            ? `<span class="bg-green-50 text-green-800 px-2 py-1 rounded border border-green-100 font-bold">ğŸ”Œé›»æºã‚ã‚Š</span>` 
                            : '<span class="bg-gray-50 text-gray-400 px-2 py-1 rounded italic border border-gray-100">ğŸ”Œé›»æºãªã—</span>'}
                    </div>
                </div>
                <div class="grid grid-cols-2 border-t text-center text-[11px] font-bold">
                    <a href="${s.mapUrl}" target="_blank" class="py-3 text-gray-600 border-r hover:bg-gray-50 transition">å…¬å¼ã‚µã‚¤ãƒˆ</a>
                    <button onclick="zoomTo(${s.lat}, ${s.lng})" class="py-3 text-blue-600 hover:bg-blue-50 transition">åœ°å›³ã§è¦‹ã‚‹</button>
                </div>
            </article>
        `;
    }).join('');
}

function zoomTo(lat, lng) {
    map.setView([lat, lng], 18);
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Filter Events
document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.onclick = () => {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('bg-[#00704A]', 'text-white'));
        btn.classList.add('bg-[#00704A]', 'text-white');
        currentArea = btn.dataset.area;
        render();
    };
});

document.querySelectorAll('.feat-btn').forEach(btn => {
    btn.onclick = () => {
        currentFeat = currentFeat === btn.dataset.feat ? null : btn.dataset.feat;
        btn.classList.toggle('bg-blue-600');
        btn.classList.toggle('text-white');
        render();
    };
});

searchInput.oninput = render;
render();
</script>
</body>
</html>
